<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Salary Pro-Rata Calculator</title>
  <style>
    :root {
      --bg1: #0f172a;
      --bg2: #1e293b;
      --card-bg: rgba(30, 41, 59, 0.85);
      --text: #f1f5f9;
      --muted: #94a3b8;
      --accent: #38bdf8;
      --good: #4ade80;
      --bad: #f87171;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 24px;
      font-family: "Segoe UI", Roboto, sans-serif;
      color: var(--text);
      background: linear-gradient(160deg, var(--bg1), var(--bg2));
      min-height: 100vh;
    }

    .wrap {
      max-width: 960px;
      margin: 0 auto;
      animation: fadeIn 0.6s ease;
    }

    h1 {
      font-size: 1.8rem;
      margin-bottom: 18px;
      text-align: center;
      background: linear-gradient(90deg, #38bdf8, #818cf8);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .card {
      background: var(--card-bg);
      backdrop-filter: blur(14px);
      border-radius: 16px;
      padding: 20px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      margin-bottom: 18px;
      transition: transform 0.2s ease;
    }

    .card:hover {
      transform: translateY(-3px);
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 14px;
    }

    .col-6 {
      grid-column: span 6;
    }

    .col-4 {
      grid-column: span 4;
    }

    .col-3 {
      grid-column: span 3;
    }

    .col-12 {
      grid-column: span 12;
    }

    label {
      display: block;
      font-size: 0.9rem;
      margin-bottom: 6px;
      color: var(--muted);
    }

    input,
    select {
      width: 100%;
      padding: 12px 14px;
      border-radius: 12px;
      background: rgba(15, 23, 42, 0.85);
      border: 1px solid rgba(255, 255, 255, 0.08);
      color: var(--text);
      font-size: 1rem;
      transition: border 0.2s ease;
    }

    input:focus,
    select:focus {
      border-color: var(--accent);
      outline: none;
    }

    .row {
      display: flex;
      gap: 10px;
      align-items: center;
      flex-wrap: wrap;
    }

    .btn {
      cursor: pointer;
      border: none;
      border-radius: 12px;
      padding: 12px 16px;
      font-weight: 600;
      transition: all 0.25s ease;
    }

    .btn.primary {
      background: linear-gradient(135deg, #3b82f6, #06b6d4);
      color: white;
      box-shadow: 0 6px 18px rgba(56, 189, 248, 0.3);
    }

    .btn.primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(56, 189, 248, 0.45);
    }

    .btn.secondary {
      background: rgba(15, 23, 42, 0.7);
      color: var(--text);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .btn.secondary:hover {
      border-color: var(--accent);
    }

    .badge {
      background: rgba(56, 189, 248, 0.2);
      color: var(--accent);
      border-radius: 999px;
      padding: 4px 10px;
      font-size: 0.75rem;
    }

    .kpi {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 14px;
      border-radius: 12px;
      border: 1px dashed rgba(255, 255, 255, 0.15);
      margin-bottom: 8px;
      background: rgba(15, 23, 42, 0.35);
    }

    .kpi strong {
      font-size: 1rem;
      font-family: monospace;
    }

    .good {
      color: var(--good);
    }

    .bad {
      color: var(--bad);
    }

    summary {
      cursor: pointer;
      font-weight: 600;
    }

    footer {
      margin-top: 14px;
      text-align: center;
      font-size: 0.85rem;
      color: var(--muted);
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(8px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }



    .tooltip {
      position: relative;
      cursor: help;
      color: #38bdf8;
      /* accent color */
      font-weight: bold;
      margin-left: 4px;
    }

    .tooltip .tooltiptext {
      visibility: hidden;
      width: 220px;
      background: #1e293b;
      color: #f1f5f9;
      text-align: left;
      padding: 8px 10px;
      border-radius: 8px;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      /* position above */
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 0.3s;
      font-size: 0.85rem;
      line-height: 1.3;
    }

    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <h1>Salary Pro-Rata Calculator <span class="badge">HTML + JS</span></h1>

    <div class="card">
      <div class="grid">
        <div class="col-6">
          <label>Monthly Salary (₹)</label>
          <input id="monthlySalary" type="number" value="12500" />
        </div>

        <div class="col-3">
          <label>Month</label>
          <select id="month">
            <option value="Jun" selected>Jun</option>
            <option>Jan</option>
            <option>Feb</option>
            <option>Mar</option>
            <option>Apr</option>
            <option>May</option>
            <option>Jul</option>
            <option>Aug</option>
            <option>Sep</option>
            <option>Oct</option>
            <option>Nov</option>
            <option>Dec</option>
          </select>
        </div>

        <div class="col-3">
          <label>Days in Month</label>
          <input id="daysInMonth" type="number" value="30" />
        </div>

        <div class="col-4">
          <label>Working Days Paid</label>
          <input id="workingDaysPaid" type="number" value="22" />
        </div>

        <div class="col-4">
          <label>10% Deduction</label>
          <select id="tenPercentBase">
            <option value="prorata" selected>On Pro-Rata</option>
            <option value="monthly">On Monthly</option>
          </select>
        </div>

        <div class="col-4">
          <label>Fixed Deduction (₹)</label>
          <input id="manualCut" type="number" value="400" />
        </div>

        <div class="col-12">
          <label>Optional GST</label>
          <div class="row">
            <label><input type="radio" name="gst" value="0" checked /> None</label>
            <label><input type="radio" name="gst" value="100" /> ₹100</label>
            <label><input type="radio" name="gst" value="200" /> ₹200</label>
          </div>
        </div>

        <div class="col-12 row" style="justify-content: flex-end; gap: 10px; margin-top: 10px">
          <button class="btn secondary" id="resetBtn" type="button">Reset</button>
          <button class="btn primary" id="calcBtn" type="button">Recalculate</button>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="grid">
        <div class="col-12 kpi"><span>Daily Rate</span><strong id="dailyRate">—</strong></div>
        <div class="col-12 kpi"><span>Pro-Rata</span><strong id="proRata">—</strong></div>
        <div class="col-12 kpi"><span>10% Deduction</span><strong class="bad" id="tenCut">—</strong></div>
        <div class="col-12 kpi"><span>After 10%</span><strong id="afterTen">—</strong></div>
        <div class="col-12 kpi"><span>Fixed Deduction</span><strong class="bad" id="manualOut">—</strong></div>
        <div class="col-12 kpi"><span>Subtotal</span><strong id="subtotal">—</strong></div>
        <div class="col-12 kpi"><span>GST</span><strong class="bad" id="gstOut">—</strong></div>
        <div class="col-12 kpi" style="border-style: solid"><span>Net Payable</span><strong class="good" id="netPayable"
            style="font-size: 1.2rem">—</strong></div>
      </div>

      <details style="margin-top: 10px">
        <summary>Breakdown (copy)</summary>
        <pre id="breakdown" style="white-space: pre-wrap; margin-top: 10px">—</pre>
        <button class="btn secondary" type="button" id="copyBtn">Copy Breakdown</button>
        <span id="copyMsg" style="margin-left: 8px; font-size: 0.85rem; color: var(--muted)"></span>
      </details>
    </div>

    <footer style="margin-top: 40px; padding: 15px; text-align: center; font-size: 0.9rem; color: #64748b;">
      ⚠️ This calculator provides an <strong>estimated salary breakdown</strong> based on the inputs you provide.
      Actual figures may vary depending on company policies, deductions, and compliance rules.
      <br><br>
      Made with ❤️ by <strong>ByteRoots</strong>
    </footer>

  </div>

  <script>
    const el = (id) => document.getElementById(id);

    function inr(n) {
      if (!isFinite(n)) return "—";
      return new Intl.NumberFormat("en-IN", {
        style: "currency",
        currency: "INR",
        maximumFractionDigits: 2,
      }).format(n);
    }

    function valNum(id) {
      return parseFloat(el(id).value || "0");
    }

    function currentGST() {
      const r = document.querySelector('input[name="gst"]:checked');
      return r ? parseFloat(r.value) : 0;
    }

    // Month days mapping
    const monthDays = {
      Jan: 31,
      Feb: 28, // default (we'll check leap year dynamically)
      Mar: 31,
      Apr: 30,
      May: 31,
      Jun: 30,
      Jul: 31,
      Aug: 31,
      Sep: 30,
      Oct: 31,
      Nov: 30,
      Dec: 31
    };

    // auto-update days based on month
    function updateDaysInMonth() {
      let month = el("month").value;
      let year = new Date().getFullYear(); // current year
      let days = monthDays[month];

      // Handle February for leap year
      if (month === "Feb") {
        days = (year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0)) ? 29 : 28;
      }

      el("daysInMonth").value = days;
      calculate();
    }

    function calculate() {
      const monthly = valNum("monthlySalary");
      const daysInMonth = Math.max(1, valNum("daysInMonth"));
      const worked = Math.max(0, valNum("workingDaysPaid"));
      const baseType = el("tenPercentBase").value;
      const manual = Math.max(0, valNum("manualCut"));
      const gst = Math.max(0, currentGST());

      const daily = monthly / daysInMonth;
      const prorata = daily * worked;
      const tenCut = (baseType === "monthly" ? monthly : prorata) * 0.1;
      const afterTen = Math.max(0, prorata - tenCut);
      const afterManual = Math.max(0, afterTen - manual);
      const net = Math.max(0, afterManual - gst);

      el("dailyRate").textContent = inr(daily);
      el("proRata").textContent = inr(prorata);
      el("tenCut").textContent = "-" + inr(tenCut);
      el("afterTen").textContent = inr(afterTen);
      el("manualOut").textContent = "-" + inr(manual);
      el("subtotal").textContent = inr(afterManual);
      el("gstOut").textContent = "-" + inr(gst);
      el("netPayable").textContent = inr(net);

      const monthName = el("month").value;
      const breakdown = [
        `Monthly Salary: ${inr(monthly)}`,
        `Month: ${monthName} | Days: ${daysInMonth} | Paid: ${worked}`,
        `Daily Rate = ${inr(monthly)} ÷ ${daysInMonth} = ${inr(daily)}`,
        `Pro-Rata = ${inr(daily)} × ${worked} = ${inr(prorata)}`,
        `10% Deduction (${baseType}) = ${inr(tenCut)}`,
        `After 10% = ${inr(afterTen)}`,
        `Fixed Deduction = ${inr(manual)}`,
        `Subtotal = ${inr(afterManual)}`,
        `GST = ${inr(gst)}`,
        `Net Payable = ${inr(net)}`
      ].join("\n");

      el("breakdown").textContent = breakdown;
    }

    function resetDefaults() {
      el("monthlySalary").value = 12500;
      el("month").value = "Jun";
      updateDaysInMonth(); // auto set days
      el("workingDaysPaid").value = 22;
      el("tenPercentBase").value = "prorata";
      el("manualCut").value = 400;
      document.querySelector('input[name="gst"][value="0"]').checked = true;
      calculate();
    }

    el("calcBtn").addEventListener("click", calculate);
    el("resetBtn").addEventListener("click", resetDefaults);

    // update days whenever month changes
    el("month").addEventListener("change", updateDaysInMonth);

    // recalc on input change
    document.querySelectorAll("input, select").forEach((ctrl) =>
      ctrl.addEventListener("input", calculate)
    );

    el("copyBtn").addEventListener("click", async () => {
      try {
        await navigator.clipboard.writeText(el("breakdown").textContent);
        el("copyMsg").textContent = "Copied!";
        setTimeout(() => (el("copyMsg").textContent = ""), 1500);
      } catch {
        el("copyMsg").textContent = "Copy failed";
      }
    });

    // Initialize
    updateDaysInMonth();

  </script>
</body>

</html>
